<mat-card>
  <mat-card-title>Sign up</mat-card-title>
  <mat-card-subtitle>
    Already a user? 
    <a routerLink="/login"> Log in</a>
  </mat-card-subtitle>

  <form [formGroup]="registerForm" (ngSubmit)="signUp()">
    <mat-form-field>
      <mat-label>First name</mat-label>
      <input matInput id="first-name" type="text" formControlName="firstName">

      <mat-error *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)">
        <div *ngIf="firstName?.errors?.['required']">
          First name is required.
        </div>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Last name</mat-label>
      <input matInput id="last-name" type="text" formControlName="lastName">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Email</mat-label>
      <input matInput id="email" type="text" formControlName="email">

      <mat-error *ngIf="email?.invalid && (email?.dirty || email?.touched)">
        <div *ngIf="email?.errors?.['required']">
          Email is required.
        </div>
        <div *ngIf="email?.errors?.['email']">
          Provided email is invalid
        </div>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label for="password">Password</mat-label>
      <input matInput id="password" type="text" formControlName="password">

      <mat-error *ngIf="password?.invalid && (password?.dirty || password?.touched)">
        <div *ngIf="password?.errors?.['required']">
          Password is required.
        </div>
        <div *ngIf="password?.errors?.['minlength']">
          Password have to be at least 8 characters long
        </div>
      </mat-error>
    </mat-form-field>

    <mat-error *ngIf="error" class="error">
      {{ error }}
    </mat-error>

    <button mat-raised-button type="submit" color="primary" [disabled]="registerForm.invalid">Sign up</button>
  </form>

</mat-card>
